{% macro diagram(endpoint, periods, current, previous, next, name='') %}
{% set args = {'name': name} if name else {} %}
<div id="diagram" class="container">
    <div class="container has-text-centered">
        <a href="{{ url_for(endpoint, first=previous.first, last=previous.last, **args) }}" class="button is-small">&lt;&lt;</a>
        {% for period_name, period_first, period_last in periods %}
            <a href="{{ url_for(endpoint, first=period_first, last=period_last, **args) }}" class="button is-small">{{ period_name }}</a>
        {% endfor %}
        <a href="{{ url_for(endpoint, first=next.first, last=next.last, **args) }}" class="button is-small">&gt;&gt;</a>
    </div>
    <div class="container has-text-centered">
        <img src="{{ url_for('image', image_type=endpoint, first=current.first, last=current.last, **args) }}" />
    </div>
</div>
{% endmacro %}
